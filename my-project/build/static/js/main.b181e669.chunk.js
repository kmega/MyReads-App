(this.webpackJsonpundefined=this.webpackJsonpundefined||[]).push([[0],{13:function(A,e){A.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAlgAAAMgCAIAAABwAouTAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH4gceDiYLyyybMwAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAl8SURBVHja7dVBDQAACMQwwL/nwwYJrYR91kkKAL4aCQAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgAwQgCMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBMAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIATBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCAIxQAgCMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBMAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIATBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQACOUAAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBAAjBMAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIATBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCADBCAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQAIwQACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEACMEwAglAMAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAcAIAeCCBSeCCT3rA7u/AAAAAElFTkSuQmCC"},16:function(A,e,c){A.exports=c(29)},24:function(A,e,c){},28:function(A,e,c){},29:function(A,e,c){"use strict";c.r(e);var t=c(0),a=c.n(t),C=c(12),B=c.n(C),I=c(30),n=c(4),o=c(5),r=c(8),s=c(6),E=c(9),j=(c(24),c(10)),l="https://reactnd-books-api.udacity.com",w=localStorage.token;w||(w=localStorage.token=Math.random().toString(36).substr(-8));var M={Accept:"application/json",Authorization:w},Q=function(A,e){return fetch("".concat(l,"/books/").concat(A.id),{method:"PUT",headers:Object(j.a)({},M,{"Content-Type":"application/json"}),body:JSON.stringify({shelf:e})}).then((function(A){return A.json()}))},D=function(A,e){return fetch("".concat(l,"/search"),{method:"POST",headers:Object(j.a)({},M,{"Content-Type":"application/json"}),body:JSON.stringify({query:A,maxResults:e})}).then((function(A){return A.json()})).then((function(A){return A.books}))},i=c(31),u=c(13),h=c.n(u),g=function(A){function e(){return Object(n.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(E.a)(e,A),Object(o.a)(e,[{key:"render",value:function(){var A=this.props,e=A.book,c=A.changeShelf,t=e.imageLinks&&e.imageLinks.thumbnail?e.imageLinks.thumbnail:h.a;return a.a.createElement("li",null,a.a.createElement("div",{className:"book"},a.a.createElement("div",{className:"book-top"},a.a.createElement("div",{className:"book-cover"},a.a.createElement("img",{src:t,alt:"".concat(e.title," cover")})," ")," ",a.a.createElement("div",{className:"book-shelf-changer"}," "," ",a.a.createElement("select",{value:e.shelf,onChange:function(A){return c(e,A.target.value)}},a.a.createElement("option",{value:"move",disabled:!0}," Move to... ")," ",a.a.createElement("option",{value:"none"}," None ")," ",a.a.createElement("option",{value:"currentlyReading"}," Currently Reading ")," ",a.a.createElement("option",{value:"wantToRead"}," Want to Read ")," ",a.a.createElement("option",{value:"read"}," Read ")," ")," "))," "," ",a.a.createElement("h3",{className:"book-title"}," ",e.title," ")," ",a.a.createElement("h4",{className:"book-authors"}," ",e.authors," ")," ")," ")}}]),e}(a.a.Component),m=function(A){function e(){return Object(n.a)(this,e),Object(r.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(E.a)(e,A),Object(o.a)(e,[{key:"render",value:function(){var A=this.props,e=A.books,c=A.shelf,t=A.changeShelf;return(a.a.createElement("div",{className:"bookshelf"},a.a.createElement("h2",{className:"bookshelf-title"}," ",c," ")," ",a.a.createElement("div",{className:"bookshelf-books"},a.a.createElement("ul",{className:"books-grid"}," ",e.map((function(A){return a.a.createElement(g,{key:A.id,books:e,book:A,changeShelf:t})}))," ")," ")," "))}}]),e}(t.Component),f=function(A){function e(){var A,c;Object(n.a)(this,e);for(var t=arguments.length,a=new Array(t),C=0;C<t;C++)a[C]=arguments[C];return(c=Object(r.a)(this,(A=Object(s.a)(e)).call.apply(A,[this].concat(a)))).state={query:"",searchResults:[],showNothing:!1},c.search=function(A){var e=A.target.value.trim();c.setState({query:e}),e&&D(e).then((function(A){A.error?c.setState({searchResults:[],showNothing:!0}):(A.forEach((function(A){c.props.books.forEach((function(e){e.id===A.id?A.shelf=e.shelf:A.shelf="none"}))})),c.setState({searchResults:A,showNothing:!1}))}))},c}return Object(E.a)(e,A),Object(o.a)(e,[{key:"render",value:function(){var A=this.props.changeShelf;return a.a.createElement("section",{className:"app"},a.a.createElement("input",{type:"text",placeholder:"Search by Title or Author",value:this.state.query,onChange:this.search})," ",a.a.createElement("div",{className:"books-search-grid"}," ",this.state.searchResults.map((function(e){return a.a.createElement(g,{key:e.id,book:e,changeShelf:A})}))," ")," ")}}]),e}(t.Component),b=function(A){function e(){var A,c;Object(n.a)(this,e);for(var t=arguments.length,a=new Array(t),C=0;C<t;C++)a[C]=arguments[C];return(c=Object(r.a)(this,(A=Object(s.a)(e)).call.apply(A,[this].concat(a)))).state={books:[]},c.changeShelf=function(A,e){Q(A,e).then((function(){A.shelf=e,c.setState({books:c.state.books.filter((function(e){return e.id!==A.id})).concat(A)})}))},c}return Object(E.a)(e,A),Object(o.a)(e,[{key:"componentDidMount",value:function(){var A=this;fetch("".concat(l,"/books"),{headers:M}).then((function(A){return A.json()})).then((function(A){return A.books})).then((function(e){A.setState({books:e})}))}},{key:"render",value:function(){var A=this,e=[{status:"currentlyReading",statusName:"Currently Reading"},{status:"wantToRead",statusName:"Want to Read"},{status:"read",statusName:"Read"}];return a.a.createElement("div",{className:"app"},a.a.createElement("div",{className:"open-search"},a.a.createElement("a",{href:"/search"}," Add a book "))," "," ",a.a.createElement(i.a,{exact:!0,path:"/",render:function(){return a.a.createElement("div",{className:"list-books"},a.a.createElement("div",{className:"list-books-title"},a.a.createElement("h1",null," MyReads ")," ")," ",a.a.createElement("div",{className:"list-books-content"}," "," ",a.a.createElement("div",null," ",e.map((function(e,c){var t=A.state.books.filter((function(A){return A.shelf===e.status}));return a.a.createElement(m,{key:e.status,books:t,shelf:e.statusName,changeShelf:A.changeShelf})}))," ")," ")," ")}})," "," ",a.a.createElement(i.a,{exact:!0,path:"/search",render:function(){return a.a.createElement("div",{className:"search-books"},a.a.createElement("div",{className:"search-books-bar"},a.a.createElement("a",{className:"close-search",href:"/"}," Close ")," ",a.a.createElement("div",{className:"search-books-input-wrapper"},a.a.createElement(f,{type:"text",placeholder:"Search by title or author",books:A.state.books,changeShelf:A.changeShelf})," ")," ")," ",a.a.createElement("div",{className:"search-books-results"},a.a.createElement("ol",{className:"books-grid"}," ")," ")," ")}})," ")}}]),e}(a.a.Component);c(28);B.a.render(a.a.createElement(I.a,null,a.a.createElement(b,null)),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.b181e669.chunk.js.map